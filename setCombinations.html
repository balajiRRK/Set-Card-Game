<!Doctype html>

<head>
    <title>Set combinations</title>
    <script type="text/javascript" src="Player.js"></script>
    <script type="text/javascript" src="Cards.js"></script>
    <script defer type="text/javascript" src="cardGraphic.js"></script>

</head>

<body>
    <!-- These buttons are for testing -->

    <button id="addset"> add to set </button>

    <canvas id="card">
        <p>Add suitable fallback here.</p>
        <canvas id="symbol">
            <p>Add suitable fallback here.</p>
          </canvas>
      </canvas>
      

    <div class="setCombinations">
        <!-- I will implement a total set found and a set found for each player if we want to show that too as a option -->
        <ul id="sets"></ul>

    </div>
</body>

<script>
    let list = [];
    let player = new Player(1);
    addToPlayerList(player, list);
    console.log(list[0].player);

    player = new Player(2);
    addToPlayerList(player, list);
    console.log(list[0].player);
    console.log(list[1].player);

    addToPlayerList(new Player(3), list);
    console.log(list[0].player);
    console.log(list[1].player);
    console.log(list[2].player);

    // I will only test for displaying the set, not the correctness of the set
    // addSetToPlayer(list[0], [createRandomCard(), createRandomCard(), createRandomCard()]);

    // code was created with the assistance of https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener
    document.getElementById("addset").addEventListener("click", () => { addSetToPlayer(list[0], [createRandomCard(), createRandomCard(), createRandomCard()]); });

    document.getElementById("addset").addEventListener("click", () => { //  () => allows global scope
        let i = 0; while (i < list[0].setFound.length) {
            console.log(list[0].setFound[i]);
            i++;
        };
    });

    // this is a test for the full version where instead of the text of the properties of the card will be shown, the actual card will be shown instead
    // document.getElementById("addset").addEventListener("click", () => {
    //     document.getElementById("sets").innerHTML+= "<li>"+ cardtostring(list[0].setFound[list[0].setFound.length-1][0]) +" "
    //         +cardtostring(list[0].setFound[list[0].setFound.length-1][1])+" "+cardtostring(list[0].setFound[list[0].setFound.length-1][2])+ " </li>";
    // });

    document.getElementById("addset").addEventListener("click", () => {
        
        detectCard(list[0].setFound[list[0].setFound.length-1][0]);
            detectCard(list[0].setFound[list[0].setFound.length-1][1]);
            detectCard(list[0].setFound[list[0].setFound.length-1][2]);
    });
    // console.log(list[0].setFound[0][0]);
    // console.log(list[0].setFound[0][1]);
    // console.log(list[0].setFound[0][2]);

    function cardtostring(card)  {
        return card.number +" "+card.color+" "+card.shape+" "+card.shading
   
  };  
  function showCard(card){

  }

</script>


</html>